@startuml
autoactivate on
"main()" ->  "Inicializa a particao NVS": nvs
"main()" ->  "Iniciar_ESP()": Funcao que inicializa diversas estruturas
note over "Iniciar_ESP()": Sao inicializados semaforos, filas de mensagens,\nfilas de escrita em logs,\naloca as estruturas de rede,\nconfigura o sntp, 
"main()" ->  "Verifica o estado da rede":
"main()" ->  "Provisiona o dispositivo no DPS": Provisiona o dispositivo no azure
"main()" ->  "Inicializa os pinos da placa": Configura o modo dos pinos
"main()" ->  "Inicializa Device Twin":
"main()" ->  "Auto-diagnostico para o caso de um update OTA":
"main()" ->  "Inicializa Threads do Sistema"
@enduml